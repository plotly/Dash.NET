<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Dash.NET
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Kevin Schneider">
    <link rel="shortcut icon" type="image/x-icon" href="https://github.com/plotly/Dash.NET//img/favicon.ico">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script> -->

    <link type="text/css" rel="stylesheet" href="https://github.com/plotly/Dash.NET/content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="https://github.com/plotly/Dash.NET/content/fsdocs-custom.css" />
    <script type="text/javascript" src="https://github.com/plotly/Dash.NET/content/fsdocs-tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->
    
</head> 

<body>
    <div class="columns is-fullheight m-0">
        <div id="fsdocs-menu" class="column is-2 is-paddingless">
            <aside class="menu">
                <div class="container is-paddingless is-marginless has-background-dark">
                    <a href="https://github.com/plotly/Dash.NET/">
                        <figure class="image is-128x128 container">
                            <img src="https://github.com/plotly/Dash.NET/img/logo.png">
                        </figure>
                    </a>
                    <h2 class="title has-text-centered has-text-white">Dash.NET</h2>
                    <h5 class="has-text-centered has-text-white pb-4">Documentation for 0.1.0-alpha9</h5>
                </div>
                <div class="content">
                    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
                    <div id="header">
                        <div class="searchbox" id="fsdocs-searchbox">
                            <label for="search-by">
                                <i class="fas fa-search"></i>
                            </label>
                            <input data-search-input="" id="search-by" type="search" placeholder="Search..." class="input"/>
                            <span data-search-clear="">
                                <i class="fas fa-times"></i>
                            </span>
                        </div>
                    </div>
                    <!-- END SEARCH BOX: this adds support for the search box -->
                    <ul class="navbar-nav">
                        <li class="nav-header">Links</li>
                        <li class="nav-item" id="fsdocs-license-link"><a class="nav-link" href="https://github.com/plotly/Dash.NET/blob/dev/LICENSE">License (MIT)</a></li>
                        <li class="nav-item" id="fsdocs-release-notes-link"><a class="nav-link" href="https://github.com/plotly/Dash.NET/blob/dev/RELEASE_NOTES.md">Release Notes</a></li>
                        <li class="nav-item" id="fsdocs-repository-link"><a class="nav-link" href="https://github.com/plotly/Dash.NET/">Source Repository</a></li>
                        



                    </ul>
                </div>
            </aside>
        </div>
        <div class="column is-10 is-paddingless">
            <div class="section pt-4">
                <div class="container" id="fsdocs-content">
                    <h1><a name="Dash-NET" class="anchor" href="#Dash-NET">Dash.NET</a></h1>
<p><img src="img/logo_title.svg" alt="" /></p>
<p>Dash.NET is a .NET interface to <a href="https://plotly.com/dash/">Dash</a> - the most downloaded framework for building ML &amp; data science web apps - written in F#. Built on top of Plotly.js, React and asp.netcore (via Giraffe), Dash.NET ties modern UI elements like dropdowns, sliders, and graphs directly to your analytical .NET code.</p>
<p>This library is under heavy development. Things might break. However, Dash.NET has a stable core and has already been used for non trivial applications (<a href="https://github.com/CSBiology/TMEA">example1</a>, <a href="https://github.com/TRR175/ExploreKinetics">example2</a>). The current development goal is to implement all targets set in the <a href="https://github.com/plotly/Dash.NET/issues/4">beta roadmap</a>, where you can also see a summary of the state of the project.</p>
<p>The documentation is WIP as well.</p>
<h1><a name="Table-of-contents" class="anchor" href="#Table-of-contents">Table of contents</a></h1>
<!-- TOC -->
<ul>
<li><a href="#installation">Installation</a></li>
<li>
<a href="#usage">Usage</a>
<ul>
<li><a href="#basic-application">Basic application</a></li>
<li><a href="#referencing-content">Referencing content</a></li>
<li><a href="#dash-core-components-dcc">Dash Core components (DCC)</a></li>
<li>
<a href="#callbacks">callbacks</a>
<ul>
<li><a href="#single-output">single output</a></li>
<li><a href="#using-dashnet-operators">using Dash.NET operators</a></li>
<li><a href="#multiple-outputs">multiple outputs</a></li>
<li><a href="#recommendations-for-callbacks-especially-multi-output-callbacks">Recommendations for callbacks (especially multi output callbacks)</a></li>
</ul>
</li>
<li><a href="#using-state">Using state</a></li>
<li><a href="#build">build</a></li>
<li><a href="#docs">docs</a></li>
<li><a href="#run-the-dev-server-application">Run the dev server application</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h2><a name="Installation" class="anchor" href="#Installation">Installation</a></h2>
<p>Get the latest preview package via nuget: <a href="https://www.nuget.org/packages/Dash.NET/"><img src="https://img.shields.io/nuget/vpre/Dash.NET" alt="" /></a></p>
<p>Use the <code>dotnet new</code> template:</p>
<p><code>dotnet new -i Dash.NET.Template::*</code></p>
<p>(watch out, this template might not use the latest Dash.NET package, take a look at the referenced version and update if needed )</p>
<h2><a name="Usage" class="anchor" href="#Usage">Usage</a></h2>
<p>In Dash.NET, everything is basically about constructing a <code>DashApp</code> that holds all parts of your dash application, such as:
-  the <code>Layout</code>, which holds the UI components of your application
- <code>Callbacks</code> that handle how different components in your <code>Layout</code> interact with each other
- Various server and renderer configurations via <code>DashConfig</code>
- The <code>IndexView</code> template that controls the html scaffold that holds the rendered application.</p>
<p>The most simple (and boring) Dash.NET application looks like this:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span class="id">Dash</span><span class="pn">.</span><span class="id">NET</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">myApp</span> <span class="o">=</span> <span class="id">DashApp</span><span class="pn">.</span><span class="id">initDefault</span><span class="pn">(</span><span class="pn">)</span>
</code></pre>
<p>Which creates a <code>DashApp</code> with all fields initialized with empty defaults. The http handler for a <code>DashApp</code> can be accessed via the <code>DashApp.toHttpHandler</code> function to plug it into your aps.netcore application configuration function via <code>UseGiraffe</code> (for more info, check out Giraffe docs or take a look at the <a href="https://github.com/plotly/Dash.NET/blob/dev/dev/Program.fs#L104">dev project in this repo</a>)</p>
<h3><a name="Basic-application" class="anchor" href="#Basic-application">Basic application</a></h3>
<p>To get actual content into the default application, it needs a <code>Layout</code>. <code>Layout</code>s can be created via Dash.NET's DSL for html components, where the first function parameter is always a list of properties (e.g. for setting css classes), and the second a list of children.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">//Will create the following html:</span>
<span class="c">//&lt;div&gt;</span>
<span class="c">//  &lt;h1&gt;&quot;Hello world from Dash.NET!&quot;&lt;/h1&gt;</span>
<span class="c">//&lt;/div&gt;</span>
<span class="c">//</span>
<span class="k">open</span> <span class="id">Dash</span><span class="pn">.</span><span class="id">NET</span><span class="pn">.</span><span class="id">Html</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">myLayout</span> <span class="o">=</span> 
    <span class="id">Html</span><span class="pn">.</span><span class="id">div</span> <span class="pn">[</span>
        <span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="pn">[</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">h1</span> <span class="pn">[</span>
                <span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;Hello world from Dash.NET!&quot;</span>
            <span class="pn">]</span>
        <span class="pn">]</span>
    <span class="pn">]</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="id">test</span> <span class="o">=</span> 
    <span class="id">DashApp</span><span class="pn">.</span><span class="id">initDefault</span><span class="pn">(</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span class="id">DashApp</span><span class="pn">.</span><span class="id">withLayout</span> <span onmouseout="hideTip(event, 'fs2', 4)" onmouseover="showTip(event, 'fs2', 4)" class="id">myLayout</span>
</code></pre>
<p><img src="img/hello-world.png" alt="" /></p>
<hr />
<br>
<h3><a name="Referencing-content" class="anchor" href="#Referencing-content">Referencing content</a></h3>
<p>You can include internal and external stylesheets and scripts via <code>DashApp.appendCSSLinks</code> and <code>DashApp.appendScripts</code>:</p>
<p>Let's say you have the following <code>main.css</code> file in your wwwroot directory (served from <code>/main.css</code>)</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="CSS">h1 {
    font-size: 1.5em;
    color: green;
}
</code></pre></td></tr></table>
<p>you can reference it from your <code>DashApp</code> like this (using the basic example from above):</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs3', 5)" onmouseover="showTip(event, 'fs3', 5)" class="id">test</span> <span class="o">=</span> 
    <span class="id">DashApp</span><span class="pn">.</span><span class="id">initDefault</span><span class="pn">(</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span class="id">DashApp</span><span class="pn">.</span><span class="id">withLayout</span> <span onmouseout="hideTip(event, 'fs2', 6)" onmouseover="showTip(event, 'fs2', 6)" class="id">myLayout</span>
    <span class="o">|&gt;</span> <span class="id">DashApp</span><span class="pn">.</span><span class="id">appendCSSLinks</span> <span class="pn">[</span><span class="s">&quot;main.css&quot;</span><span class="pn">]</span>
</code></pre>
<p><img src="img/hello-world-green.png" alt="" /></p>
<hr />
<p>If you want to reference external content (e.g. a CSS framework like <a href="https://bulma.io/">Bulma</a>), you can do that as well. To use the classes defined there, set the <code>ClassName</code> accordingly:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">myLayout3</span> <span class="o">=</span> 
    <span class="id">Html</span><span class="pn">.</span><span class="id">div</span> <span class="pn">[</span>
        <span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="pn">[</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">h1</span> <span class="pn">[</span>
                <span class="id">Attr</span><span class="pn">.</span><span class="id">className</span> <span class="s">&quot;title is-1&quot;</span>
                <span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;Hello world from Dash.NET!&quot;</span>
            <span class="pn">]</span>
        <span class="pn">]</span>
    <span class="pn">]</span>

<span class="k">let</span> <span class="id">test3</span> <span class="o">=</span> 
    <span class="id">DashApp</span><span class="pn">.</span><span class="id">initDefault</span><span class="pn">(</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span class="id">DashApp</span><span class="pn">.</span><span class="id">withLayout</span> <span class="id">myLayout3</span>
    <span class="o">|&gt;</span> <span class="id">DashApp</span><span class="pn">.</span><span class="id">appendCSSLinks</span> <span class="pn">[</span>
        <span class="s">&quot;https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.1/css/bulma.min.css&quot;</span>
    <span class="pn">]</span>
</code></pre>
<p><img src="img/hello-world-bulma.png" alt="" /></p>
<hr />
<h3><a name="Dash-Core-components-DCC" class="anchor" href="#Dash-Core-components-DCC">Dash Core components (DCC)</a></h3>
<p>You can also use most dash core components. The following example uses the Plotly.NET to create a plotly graph component. Note that all core components must have a nunique id, and therefore have the mandatory id parameter:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span class="id">Dash</span><span class="pn">.</span><span class="id">NET</span><span class="pn">.</span><span class="id">Html</span>
<span class="k">open</span> <span class="id">Dash</span><span class="pn">.</span><span class="id">NET</span><span class="pn">.</span><span class="id">DCC</span>
<span class="k">open</span> <span class="id">Plotly</span><span class="pn">.</span><span class="id">NET</span>

<span class="k">let</span> <span class="id">myGraph</span> <span class="o">=</span> <span class="id">Chart</span><span class="pn">.</span><span class="id">Line</span><span class="pn">(</span><span class="pn">[</span><span class="pn">(</span><span class="n">1</span><span class="pn">,</span><span class="n">1</span><span class="pn">)</span><span class="pn">;</span><span class="pn">(</span><span class="n">2</span><span class="pn">,</span><span class="n">2</span><span class="pn">)</span><span class="pn">]</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs2', 7)" onmouseover="showTip(event, 'fs2', 7)" class="id">myLayout</span> <span class="o">=</span> 
    <span class="id">Html</span><span class="pn">.</span><span class="id">div</span>  <span class="pn">[</span>
        <span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="pn">[</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">h1</span> <span class="pn">[</span> <span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;Hello world from Dash.NET!&quot;</span><span class="pn">]</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">h2</span> <span class="pn">[</span> <span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;Take a look at this graph:&quot;</span><span class="pn">]</span>
            <span class="id">Graph</span><span class="pn">.</span><span class="id">graph</span> <span class="s">&quot;my-ghraph-id&quot;</span> <span class="pn">[</span><span class="id">Graph</span><span class="pn">.</span><span class="id">Figure</span> <span class="pn">(</span><span class="id">myGraph</span> <span class="o">|&gt;</span> <span class="id">GenericChart</span><span class="pn">.</span><span class="id">toFigure</span><span class="pn">)</span><span class="pn">]</span> <span class="pn">[</span><span class="pn">]</span>
        <span class="pn">]</span>
    <span class="pn">]</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs3', 8)" onmouseover="showTip(event, 'fs3', 8)" class="id">test</span> <span class="o">=</span> 
    <span class="id">DashApp</span><span class="pn">.</span><span class="id">initDefault</span><span class="pn">(</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span class="id">DashApp</span><span class="pn">.</span><span class="id">withLayout</span> <span onmouseout="hideTip(event, 'fs2', 9)" onmouseover="showTip(event, 'fs2', 9)" class="id">myLayout</span>
</code></pre>
<p><img src="img/hello-graph.png" alt="" /></p>
<hr />
<br>
<h3><a name="callbacks" class="anchor" href="#callbacks">callbacks</a></h3>
<p>Callbacks describe the interactive part of your <code>DashApp</code>.</p>
<h4><a name="single-output" class="anchor" href="#single-output">single output</a></h4>
<p>Callbacks with single outputs describe either a (1 -&gt; 1) or (n -&gt; 1) dependency between components.</p>
<p>In the most basic case, you have one input component, which updates one output component (1 -&gt; 1). For both you need to assign the property of the component that will be part of the callback. Additionally, a function is needed that takes the input and returns the output. Lets first define the layout for this example:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span class="id">Dash</span><span class="pn">.</span><span class="id">NET</span><span class="pn">.</span><span class="id">Html</span>
<span class="k">open</span> <span class="id">Dash</span><span class="pn">.</span><span class="id">NET</span><span class="pn">.</span><span class="id">DCC</span>
<span class="k">open</span> <span class="id">ComponentPropTypes</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs2', 10)" onmouseover="showTip(event, 'fs2', 10)" class="id">myLayout</span> <span class="o">=</span> 
    <span class="id">Html</span><span class="pn">.</span><span class="id">div</span> <span class="pn">[</span>
        <span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="pn">[</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">h1</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;Hello world from Dash.NET!&quot;</span><span class="pn">]</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">h2</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;Tell us something!&quot;</span><span class="pn">]</span>
            <span class="id">Input</span><span class="pn">.</span><span class="id">input</span> <span class="s">&quot;test-input&quot;</span> <span class="pn">[</span><span class="id">Input</span><span class="pn">.</span><span class="id">Type</span> <span class="id">InputType</span><span class="pn">.</span><span class="id">Text</span><span class="pn">]</span> <span class="pn">[</span><span class="pn">]</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">h2</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;test-output&quot;</span><span class="pn">]</span> 
        <span class="pn">]</span>
    <span class="pn">]</span>
</code></pre>
<p>There are multiple ways of defining callbacks, all of which use the respective <code>DashApp.singleOut</code> overloads for (1 -&gt; 1), as well as (1 -&gt; n) callbacks.</p>
<p>The most simple (1 -&gt; 1) callback needs:
- 1 <code>CallbackInput</code>, which is a representation of the input component and the property that triggers the callback
- 1 <code>CallbackOutput</code>, which is a representation of the output component and the property that will be updated by the callback
- A function taking as many inputs as there are input components (1 in this case) that creates the callback output</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// a 1 -&gt; 1 callback</span>
<span class="k">let</span> <span class="id">testCallback</span> <span class="o">=</span>
    <span class="id">Callback</span><span class="pn">.</span><span class="id">singleOut</span><span class="pn">(</span>
        <span class="id">CallbackInput</span><span class="pn">.</span><span class="id">create</span><span class="pn">(</span><span class="s">&quot;test-input&quot;</span><span class="pn">,</span><span class="s">&quot;value&quot;</span><span class="pn">)</span><span class="pn">,</span>       <span class="c">// &lt;- Input of the callback is the `value` property of the component with the id &quot;test-input&quot;</span>
        <span class="id">CallbackOutput</span><span class="pn">.</span><span class="id">create</span><span class="pn">(</span><span class="s">&quot;test-output&quot;</span><span class="pn">,</span><span class="s">&quot;children&quot;</span><span class="pn">)</span><span class="pn">,</span>    <span class="c">// &lt;- Output of the callback is the `children` property of the component with the id &quot;test-output&quot;</span>
        <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="id">input</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs4', 11)" onmouseover="showTip(event, 'fs4', 11)" class="id">string</span><span class="pn">)</span> <span class="k">-&gt;</span>                              <span class="c">// this function takes a string as input and returns another message.</span>
            <span onmouseout="hideTip(event, 'fs5', 12)" onmouseover="showTip(event, 'fs5', 12)" class="id">sprintf</span> <span class="s">&quot;You said : %s&quot;</span> <span class="id">input</span>
        <span class="pn">)</span>
    <span class="pn">)</span>
</code></pre>
<p><img src="/img/callback.gif" alt="" /></p>
<h4><a name="using-Dash-NET-operators" class="anchor" href="#using-Dash-NET-operators">using Dash.NET operators</a></h4>
<p>While above usage of callbacks is the most similar to the original python library, we can leverage the type System of F# to make those calls a little bit safer.</p>
<p>To simplify the generation of <code>CallbackInput</code> and <code>CallbackOutput</code>, as well as making sure you are updating the right property in the callback handler function, you can use the custom operators provided by Dash.NET:</p>
<ul>
<li><p><code>@.</code> defines <code>CallbackInput</code> or <code>CallbackOutput</code> (as well as <code>CallbackState</code>, more on that later) in a typesafe way, so you don't need to write the properties in string from anymore.</p></li>
<li><p><code>=&gt;</code> defines a <code>CallbackResultBinding</code>, which is the representation of a function result bound to the given output property (this is more valuable when we come to multioutput callbacks later)</p></li>
</ul>
<p>Here is the same simple callback using Dash.NET operators:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span class="id">Dash</span><span class="pn">.</span><span class="id">NET</span><span class="pn">.</span><span class="id">Operators</span>

<span class="k">let</span> <span class="id">testCallback</span> <span class="o">=</span>
    <span class="id">Callback</span><span class="pn">.</span><span class="id">singleOut</span><span class="pn">(</span>
        <span class="s">&quot;test-input&quot;</span> <span class="id">@.</span> <span class="id">Value</span><span class="pn">,</span>       <span class="c">// &lt;- Input of the callback is the `value`property of the component with the id &quot;test-input&quot;, now typesafe</span>
        <span class="s">&quot;test-output&quot;</span> <span class="id">@.</span> <span class="id">Children</span><span class="pn">,</span>    <span class="c">// &lt;- Output of the callback is the `children` property of the component with the id &quot;test-output&quot;, now typesafe</span>
        <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="id">input</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs4', 13)" onmouseover="showTip(event, 'fs4', 13)" class="id">string</span><span class="pn">)</span> <span class="k">-&gt;</span>                              <span class="c">// this function takes a string as input and returns another message, now bound to the output property</span>
            <span class="s">&quot;test-output&quot;</span> <span class="id">@.</span> <span class="id">Children</span> <span class="o">=&gt;</span> <span onmouseout="hideTip(event, 'fs5', 14)" onmouseover="showTip(event, 'fs5', 14)" class="id">sprintf</span> <span class="s">&quot;You said : %s&quot;</span> <span class="id">input</span>
        <span class="pn">)</span>
    <span class="pn">)</span>
</code></pre>
<p>If you don't like operators, you can still make your callbacks safer using the type safe <code>create</code> overloads and <code>CallbackResultBinding.create</code>:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">testCallback</span> <span class="o">=</span>
    <span class="id">Callback</span><span class="pn">.</span><span class="id">singleOut</span><span class="pn">(</span>
        <span class="id">CallbackInput</span><span class="pn">.</span><span class="id">create</span><span class="pn">(</span><span class="s">&quot;test-input&quot;</span> <span class="pn">,</span><span class="id">Value</span><span class="pn">)</span><span class="pn">,</span>       <span class="c">// &lt;- Input of the callback is the `value` property of the component with the id &quot;test-input&quot;</span>
        <span class="id">CallbackOutput</span><span class="pn">.</span><span class="id">create</span><span class="pn">(</span><span class="s">&quot;test-output&quot;</span><span class="pn">,</span> <span class="id">Children</span><span class="pn">)</span><span class="pn">,</span>    <span class="c">// &lt;- Output of the callback is the `children` property of the component with the id &quot;test-output&quot;</span>
        <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="id">input</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs4', 15)" onmouseover="showTip(event, 'fs4', 15)" class="id">string</span><span class="pn">)</span> <span class="k">-&gt;</span>                              <span class="c">// this function takes a string as input and returns another message.</span>
            <span class="id">CallbackResultBinding</span><span class="pn">.</span><span class="id">bindResult</span> 
                <span class="pn">(</span><span class="id">CallbackOutput</span><span class="pn">.</span><span class="id">create</span><span class="pn">(</span><span class="s">&quot;test-output&quot;</span><span class="pn">,</span> <span class="id">Children</span><span class="pn">)</span><span class="pn">)</span>
                <span class="pn">(</span><span onmouseout="hideTip(event, 'fs5', 16)" onmouseover="showTip(event, 'fs5', 16)" class="id">sprintf</span> <span class="s">&quot;You said : %s&quot;</span> <span class="id">input</span><span class="pn">)</span>
        <span class="pn">)</span>
    <span class="pn">)</span>
</code></pre>
<h4><a name="multiple-outputs" class="anchor" href="#multiple-outputs">multiple outputs</a></h4>
<p>The following example shows how to define a (n -&gt; n) multi output callback, again first with the most python-like way, and then in more type safe .NET manner.</p>
<p>let's first define the layout used in this example:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">testLayout</span> <span class="o">=</span>
    <span class="id">Html</span><span class="pn">.</span><span class="id">div</span> <span class="pn">[</span>
        <span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="pn">[</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">h1</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;Hello world from Dash.NET!&quot;</span><span class="pn">]</span>
            <span class="id">Input</span><span class="pn">.</span><span class="id">input</span> <span class="s">&quot;test-input1&quot;</span> <span class="pn">[</span><span class="id">Input</span><span class="pn">.</span><span class="id">Type</span> <span class="id">InputType</span><span class="pn">.</span><span class="id">Number</span><span class="pn">;</span> <span class="id">Input</span><span class="pn">.</span><span class="id">Value</span> <span class="n">2.</span><span class="pn">]</span> <span class="pn">[</span><span class="pn">]</span>
            <span class="id">Input</span><span class="pn">.</span><span class="id">input</span> <span class="s">&quot;test-input2&quot;</span> <span class="pn">[</span><span class="id">Input</span><span class="pn">.</span><span class="id">Type</span> <span class="id">InputType</span><span class="pn">.</span><span class="id">Number</span><span class="pn">;</span> <span class="id">Input</span><span class="pn">.</span><span class="id">Value</span> <span class="n">3.</span><span class="pn">]</span> <span class="pn">[</span><span class="pn">]</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">h2</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;first number times 2 is:&quot;</span><span class="pn">]</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">div</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;test-output1&quot;</span><span class="pn">]</span> 
            <span class="id">Html</span><span class="pn">.</span><span class="id">h2</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;first number times squared is:&quot;</span><span class="pn">]</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">div</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;test-output2&quot;</span><span class="pn">]</span> 
            <span class="id">Html</span><span class="pn">.</span><span class="id">h2</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;second number times 3 is:&quot;</span><span class="pn">]</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">div</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;test-output3&quot;</span><span class="pn">]</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">h2</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;second number squared is:&quot;</span><span class="pn">]</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">div</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;test-output4&quot;</span><span class="pn">]</span>
        <span class="pn">]</span>
    <span class="pn">]</span>
</code></pre>
<p>We will now create a (2 -&gt; 4) callback, where we multiply and square each number.</p>
<p>To define multi output callbacks, use <code>Callback.multiOut</code>:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">multiOutCallbackExample</span> <span class="o">=</span>
    <span class="id">Callback</span><span class="pn">.</span><span class="id">multiOut</span><span class="pn">(</span>
        <span class="pn">[</span>
            <span class="id">CallbackInput</span><span class="pn">.</span><span class="id">create</span><span class="pn">(</span><span class="s">&quot;test-input1&quot;</span><span class="pn">,</span> <span class="s">&quot;value&quot;</span><span class="pn">)</span>
            <span class="id">CallbackInput</span><span class="pn">.</span><span class="id">create</span><span class="pn">(</span><span class="s">&quot;test-input2&quot;</span><span class="pn">,</span> <span class="s">&quot;value&quot;</span><span class="pn">)</span>
        <span class="pn">]</span><span class="pn">,</span>
        <span class="pn">[</span>
            <span class="id">CallbackInput</span><span class="pn">.</span><span class="id">create</span><span class="pn">(</span><span class="s">&quot;test-output1&quot;</span><span class="pn">,</span> <span class="s">&quot;children&quot;</span><span class="pn">)</span>
            <span class="id">CallbackInput</span><span class="pn">.</span><span class="id">create</span><span class="pn">(</span><span class="s">&quot;test-output2&quot;</span><span class="pn">,</span> <span class="s">&quot;children&quot;</span><span class="pn">)</span>            
            <span class="id">CallbackInput</span><span class="pn">.</span><span class="id">create</span><span class="pn">(</span><span class="s">&quot;test-output3&quot;</span><span class="pn">,</span> <span class="s">&quot;children&quot;</span><span class="pn">)</span>
            <span class="id">CallbackInput</span><span class="pn">.</span><span class="id">create</span><span class="pn">(</span><span class="s">&quot;test-output4&quot;</span><span class="pn">,</span> <span class="s">&quot;children&quot;</span><span class="pn">)</span>
        <span class="pn">]</span><span class="pn">,</span>
        <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="id">input1</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs6', 17)" onmouseover="showTip(event, 'fs6', 17)" class="id">float</span><span class="pn">)</span> <span class="pn">(</span><span class="id">input2</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs6', 18)" onmouseover="showTip(event, 'fs6', 18)" class="id">float</span><span class="pn">)</span> <span class="k">-&gt;</span>
            <span class="pn">[</span>
               <span class="id">input1</span> <span class="pn">*</span> <span class="n">2.</span>
               <span class="id">input1</span> <span class="pn">*</span> <span class="id">input1</span>
               <span class="id">input2</span> <span class="pn">*</span> <span class="n">3.</span>
               <span class="id">input2</span> <span class="pn">*</span> <span class="id">input2</span>
            <span class="pn">]</span>
        <span class="pn">)</span>
    <span class="pn">)</span>
</code></pre>
<p><img src="img/multi-callback.gif" alt="" /></p>
<h4><a name="Recommendations-for-callbacks-especially-multi-output-callbacks" class="anchor" href="#Recommendations-for-callbacks-especially-multi-output-callbacks">Recommendations for callbacks (especially multi output callbacks)</a></h4>
<p>As you might already see, multi outputs are a lot trickier to do right this way, mainly due to two problems:</p>
<ol>
<li><p>The fact that the output must be an array, where the <strong>position of the result will be mapped to the same position in the <code>CallbackOutput</code> array</strong> opens possibilities for a lot of mixups and bugs, while being hard to debug aswell.</p></li>
<li><p>Additionally to 1., <strong>when your outputs must be of different types, you must box all results to keep them in the same collection</strong>, therefore returning an object collection which is even more obstrusive because you loose the descriptive type annotation of the callback, as it will now be something along the lines of <code>Callback&lt;*A -&gt; seq&lt;obj&gt;&gt;</code></p></li>
</ol>
<p>To tackle both issues, we recommend your Calllback functions to <strong>always return CallbackResultBindin(s)</strong>, as they can be used internally to be always mapped to the correct output property, and internally box the result aswell. Here is a version of this for the initial example, also using Dash.NET custom operators:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">multiOutCallbackExample</span> <span class="o">=</span>
    <span class="id">Callback</span><span class="pn">.</span><span class="id">multiOut</span><span class="pn">(</span>
        <span class="pn">[</span>
            <span class="s">&quot;test-input1&quot;</span> <span class="id">@.</span> <span class="id">Value</span>
            <span class="s">&quot;test-input2&quot;</span> <span class="id">@.</span> <span class="id">Value</span>
        <span class="pn">]</span><span class="pn">,</span>
        <span class="pn">[</span>
            <span class="s">&quot;test-output1&quot;</span> <span class="id">@.</span> <span class="id">Children</span>
            <span class="s">&quot;test-output2&quot;</span> <span class="id">@.</span> <span class="id">Children</span>          
            <span class="s">&quot;test-output3&quot;</span> <span class="id">@.</span> <span class="id">Children</span>
            <span class="s">&quot;test-output4&quot;</span> <span class="id">@.</span> <span class="id">Children</span>
        <span class="pn">]</span><span class="pn">,</span>
        <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="id">input1</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs6', 19)" onmouseover="showTip(event, 'fs6', 19)" class="id">float</span><span class="pn">)</span> <span class="pn">(</span><span class="id">input2</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs6', 20)" onmouseover="showTip(event, 'fs6', 20)" class="id">float</span><span class="pn">)</span> <span class="k">-&gt;</span>
            <span class="pn">[</span>
               <span class="s">&quot;test-output1&quot;</span> <span class="id">@.</span> <span class="id">Children</span> <span class="o">=&gt;</span> <span class="id">input1</span> <span class="pn">*</span> <span class="n">2.</span>
               <span class="s">&quot;test-output3&quot;</span> <span class="id">@.</span> <span class="id">Children</span> <span class="o">=&gt;</span> <span class="id">input2</span> <span class="pn">*</span> <span class="n">3.</span>
               <span class="s">&quot;test-output2&quot;</span> <span class="id">@.</span> <span class="id">Children</span> <span class="o">=&gt;</span> <span class="id">input1</span> <span class="pn">*</span> <span class="id">input1</span>
               <span class="s">&quot;test-output4&quot;</span> <span class="id">@.</span> <span class="id">Children</span> <span class="o">=&gt;</span> <span class="id">input2</span> <span class="pn">*</span> <span class="id">input2</span>
            <span class="pn">]</span>
        <span class="pn">)</span>
    <span class="pn">)</span>
</code></pre>
<p>note that this callback still maps to the correct output components although the order is intentionally different from the input array.</p>
<hr />
<h3><a name="Using-state" class="anchor" href="#Using-state">Using state</a></h3>
<p>Use states as non-triggering input for callbacks. You can use the optional <code>State</code> constructor parameter of <code>Callback</code>. Just keep in mind that the state will be used for your callback function parameters <em>after</em> the callback inputs:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs2', 21)" onmouseover="showTip(event, 'fs2', 21)" class="id">myLayout</span> <span class="o">=</span> 
    <span class="id">Html</span><span class="pn">.</span><span class="id">div</span> <span class="pn">[</span>
        <span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="pn">[</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">h1</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;Hello world from Dash.NET!&quot;</span><span class="pn">]</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">h2</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;Tell us something!&quot;</span><span class="pn">]</span>
            <span class="id">Input</span><span class="pn">.</span><span class="id">input</span> <span class="s">&quot;test-input&quot;</span> <span class="pn">[</span><span class="id">Input</span><span class="pn">.</span><span class="id">Type</span> <span class="id">InputType</span><span class="pn">.</span><span class="id">Text</span><span class="pn">]</span> <span class="pn">[</span><span class="pn">]</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">h3</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;Input below will not trigger the callback&quot;</span><span class="pn">]</span>
            <span class="id">Input</span><span class="pn">.</span><span class="id">input</span> <span class="s">&quot;test-input-state&quot;</span> <span class="pn">[</span><span class="id">Input</span><span class="pn">.</span><span class="id">Type</span> <span class="id">InputType</span><span class="pn">.</span><span class="id">Text</span><span class="pn">]</span> <span class="pn">[</span><span class="pn">]</span>
            <span class="id">Html</span><span class="pn">.</span><span class="id">h2</span> <span class="pn">[</span><span class="id">Attr</span><span class="pn">.</span><span class="id">children</span> <span class="s">&quot;test-output&quot;</span><span class="pn">]</span>
        <span class="pn">]</span>
    <span class="pn">]</span>

<span class="k">let</span> <span class="id">testCallback</span> <span class="o">=</span>
    <span class="id">Callback</span><span class="pn">.</span><span class="id">singleOut</span><span class="pn">(</span>
        <span class="s">&quot;test-input&quot;</span> <span class="id">@.</span> <span class="id">Value</span><span class="pn">,</span>
        <span class="s">&quot;test-output&quot;</span> <span class="id">@.</span> <span class="id">Children</span><span class="pn">,</span>
        <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span class="id">input</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs4', 22)" onmouseover="showTip(event, 'fs4', 22)" class="id">string</span><span class="pn">)</span> <span class="pn">(</span><span class="id">state</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs4', 23)" onmouseover="showTip(event, 'fs4', 23)" class="id">string</span><span class="pn">)</span> <span class="k">-&gt;</span>
            <span class="s">&quot;test-output&quot;</span> <span class="id">@.</span> <span class="id">Children</span> <span class="o">=&gt;</span> <span class="pn">(</span>
                <span onmouseout="hideTip(event, 'fs5', 24)" onmouseover="showTip(event, 'fs5', 24)" class="id">sprintf</span> <span class="s">&quot;You said : &#39;%s&#39; and we added the state: &#39;%s&#39;&quot;</span> <span class="id">input</span> <span class="id">state</span><span class="pn">)</span>
        <span class="pn">)</span><span class="pn">,</span>
        <span class="id">State</span> <span class="o">=</span> <span class="pn">[</span><span class="s">&quot;test-input-state&quot;</span> <span class="id">@.</span> <span class="id">Value</span><span class="pn">]</span>
    <span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs3', 25)" onmouseover="showTip(event, 'fs3', 25)" class="id">test</span> <span class="o">=</span> 
    <span class="id">DashApp</span><span class="pn">.</span><span class="id">initDefault</span><span class="pn">(</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span class="id">DashApp</span><span class="pn">.</span><span class="id">withLayout</span> <span onmouseout="hideTip(event, 'fs2', 26)" onmouseover="showTip(event, 'fs2', 26)" class="id">myLayout</span>
    <span class="o">|&gt;</span> <span class="id">DashApp</span><span class="pn">.</span><span class="id">addCallback</span> <span class="id">testCallback</span>
</code></pre>
<p><img src="img/state.gif" alt="" /></p>
<hr />
<h1><a name="Development" class="anchor" href="#Development">Development</a></h1>
<p><em>Note:</em> The <code>release</code> and <code>prerelease</code> build targets assume that there is a <code>NUGET_KEY</code> environment variable that contains a valid Nuget.org API key.</p>
<h3><a name="build" class="anchor" href="#build">build</a></h3>
<p>Check the <a href="https://github.com/plotly/Dash.NET/blob/dev/build.fsx">build.fsx file</a> to take a look at the  build targets. Here are some examples:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="shell"># Windows

# Build only
./build.cmd

# Full release buildchain: build, test, pack, build the docs, push a git tag, publsih thze nuget package, release the docs
./build.cmd -t release

# The same for prerelease versions:
./build.cmd -t prerelease


# Linux/mac

# Build only
build.sh

# Full release buildchain: build, test, pack, build the docs, push a git tag, publsih thze nuget package, release the docs
build.sh -t release

# The same for prerelease versions:
build.sh -t prerelease

</code></pre></td></tr></table>
<h3><a name="docs" class="anchor" href="#docs">docs</a></h3>
<p>The docs are contained in <code>.fsx</code> and <code>.md</code> files in the <code>docs</code> folder. To develop docs on a local server with hot reload, run the following in the root of the project:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="shell"># Windows
./build.cmd -t watchdocs

# Linux/mac
./build.sh -t watchdocs
</code></pre></td></tr></table>
<h3><a name="Run-the-dev-server-application" class="anchor" href="#Run-the-dev-server-application">Run the dev server application</a></h3>
<p>The dev server is useful to test new components/code. After a successful build
you can start the dev server application by executing the following command in your terminal:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">dotnet</span> <span class="id">run</span> <span class="o">-</span><span class="id">p</span> <span class="pn">.</span><span class="o">/</span><span class="id">dev</span><span class="o">/</span><span class="id">Dash</span><span class="pn">.</span><span class="id">NET</span><span class="pn">.</span><span class="id">Dev</span><span class="pn">.</span><span class="id">fsproj</span>
</code></pre>
<p>After the application has started visit <a href="https://localhost:5001/"><a href="https://localhost:5001/">https://localhost:5001/</a></a> or <a href="http://localhost:5000/"><a href="http://localhost:5000/">http://localhost:5000/</a></a> in your preferred browser.</p>

                </div>
            </div>
        </div>
        <div class="fsdocs-tip" id="fs1">val myApp : obj</div>
<div class="fsdocs-tip" id="fs2">val myLayout : obj</div>
<div class="fsdocs-tip" id="fs3">val test : obj</div>
<div class="fsdocs-tip" id="fs4">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />--------------------<br />type string = System.String</div>
<div class="fsdocs-tip" id="fs5">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs6">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />--------------------<br />[&lt;Struct&gt;]<br />type float = System.Double<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; =<br />&#160;&#160;float</div>

    </div>

    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <script type="text/javascript">var fsdocs_search_baseurl = 'https://github.com/plotly/Dash.NET/'</script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
    <script type="text/javascript" src="https://github.com/plotly/Dash.NET/content/fsdocs-search.js"></script>
    <!-- END SEARCH BOX: this adds support for the search box -->
</body>

</html>